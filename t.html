<html>
	<head>
		<link rel="stylesheet" href="style.css">
		<link rel="shortcut icon" href="favicon.png">
		<title>In Your Timezone</title>
	</head>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.27.0/moment.min.js"></script>

	<body>
		<center>
			<h1>In Your Timezone</h1>
			<div class="main">
				<div class="description"> Your timezone: </div><div class="value" id="zonevalue"> </div>
				<div class="description">Timestamp in your timezone: </div><div class="value" id="timevalue"> </div>
				<div class="description"> Timestamp in UTC: </div><div class="value" id="utcTimevalue"></div>
				<div class="description"> Relative to now: </div><div class="value" id="relativeTime"></div>
			</div>
		</center>
	</body>
	<script>
		function renderMoment(m) {
			return m.format("dddd, MMMM Do YYYY, h:mm:ss a")
		}
		function toMoment(timestamp) {
			return moment(parseInt(timestamp) * 1000);
		}

		let timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
		let timestamp = toMoment(window.location.hash.substring(1));
		document.getElementById("zonevalue").innerHTML = timezone;
		document.getElementById("timevalue").innerHTML = renderMoment(timestamp);
		document.getElementById("utcTimevalue").innerHTML = renderMoment(timestamp.utc());
		document.getElementById("relativeTime").innerHTML = timestamp.fromNow();
	</script>
</html>
