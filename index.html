<html>
	<head>
		<link rel="stylesheet" href="style.css">
		<link rel="shortcut icon" href="favicon.png">
		<title>Current Time Zone Utility</title>
	</head>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.27.0/moment.min.js"></script>

	<body>
		<center>
			<h1>Current Time Zone</h1>
			<div class="subhead">Distribute times easily</div>
			<div align=left>
				Current Time Zone is a simple tool you can use to distribute
				time information in such a way that it will automatically be
				localized to the user's time zone. To use it just send the
				link <span class="code">http://current-time-zone.github.io/t#1593730500</span>
				where you can replace the part after the <span class="code">t#</span>
				with the <a href="https://en.wikipedia.org/wiki/Unix_time">UNIX timestamp</a>
				of the time you want to distribute.
			</div>

			<div class="dateinput">
				<input id="year" type="text" class="dateform" size="4" placeholder="YYYY">
				<span>-</span>
				<input id="month" type="text" class="dateform" size="2" placeholder="MM">
				<span>-</span>
				<input id="day" type="text" class="dateform" size="2" placeholder="DD">
				<span>&nbsp</span>
				<input id="hour" type="text" class="dateform" size="2" placeholder="HH">
				<span>:</span>
				<input id="minute" type="text" class="dateform" size="2" placeholder="MM">
				<span>:</span>
				<input id="second" type="text" class="dateform" size="2" placeholder="SS">
				<span>&nbsp&nbsp</span>
				<button class="button" onclick="go()">Go</button>
				<!-- <button class="button"><img src="link.png" alt="Link"/></button> -->
			</id>
		</center>
	</body>
	<script>
		function setup() {
			let m = moment();
			document.getElementById("year").value = m.format("YYYY");
			document.getElementById("month").value = m.format("MM");
			document.getElementById("day").value = m.format("DD");
			document.getElementById("hour").value = m.format("HH");
			document.getElementById("minute").value = m.format("mm");
			document.getElementById("second").value = "00";
		}

		function getNumericValue(id) {
			return parseInt(document.getElementById(id).value, 10);
		}

		function go() {
			let date = ["year", "month", "day", "hour", "minute", "second"].map(getNumericValue);
			date[1] -= 1; // javascript nonsense
			console.log(date);
			let m = moment(date);
			window.open("t#" + m.unix());
		}

		setup();
	</script>
</html>
